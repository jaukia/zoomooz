function Matrix(){}PureCSSMatrix=function(){"use strict";function r(e){e&&e!==null&&e!="none"?e instanceof Matrix?this.setMatrix(e):this.setMatrixValue(e):this.m=Matrix.I(3)}function i(t){var n=parseFloat(s(t));return t.match(e)&&(n=2*Math.PI*n/360),n}function s(e){return e.match(t)}function o(e){return Number(e).toFixed(6)}var e=/deg$/,t=/([0-9.\-e]+)/g,n=/([a-zA-Z]+)\(([^\)]+)\)/g;return r.prototype.setMatrix=function(e){this.m=e},r.prototype.setMatrixValue=function(e){var t=Matrix.I(3),r;while((r=n.exec(e))!==null){var o=r[1].toLowerCase(),u=r[2].split(","),a;if(o=="matrix")a=Matrix.create([[parseFloat(u[0]),parseFloat(u[2]),parseFloat(s(u[4]))],[parseFloat(u[1]),parseFloat(u[3]),parseFloat(s(u[5]))],[0,0,1]]);else if(o=="translate")a=Matrix.I(3),a.elements[0][2]=parseFloat(s(u[0])),a.elements[1][2]=parseFloat(s(u[1]));else if(o=="scale"){var f=parseFloat(u[0]),l;u.length>1?l=parseFloat(u[1]):l=f,a=Matrix.create([[f,0,0],[0,l,0],[0,0,1]])}else o=="rotate"?a=Matrix.RotationZ(i(u[0])):o=="skew"||o=="skewx"?(a=Matrix.I(3),a.elements[0][1]=Math.tan(i(u[0]))):o=="skewy"?(a=Matrix.I(3),a.elements[1][0]=Math.tan(i(u[0]))):console.log("Problem with setMatrixValue",o,u);t=t.multiply(a)}this.m=t},r.prototype.multiply=function(e){return new r(this.m.multiply(e.m))},r.prototype.inverse=function(){return Math.abs(this.m.elements[0][0])<1e-6&&(this.m.elements[0][0]=0),new r(this.m.inverse())},r.prototype.translate=function(e,t){var n=Matrix.I(3);return n.elements[0][2]=e,n.elements[1][2]=t,new r(this.m.multiply(n))},r.prototype.scale=function(e,t){var n=Matrix.create([[e,0,0],[0,t,0],[0,0,1]]);return new r(this.m.multiply(n))},r.prototype.rotate=function(e){var t=Matrix.RotationZ(e);return new r(this.m.multiply(t))},r.prototype.toString=function(){var e=this.m.elements,t="";if($.browser.mozilla||$.browser.opera)t="px";return"matrix("+o(e[0][0])+", "+o(e[1][0])+", "+o(e[0][1])+", "+o(e[1][1])+", "+o(e[0][2])+t+", "+o(e[1][2])+t+")"},r.prototype.elements=function(){var e=this.m.elements;return{a:e[0][0],b:e[1][0],c:e[0][1],d:e[1][1],e:e[0][2],f:e[1][2]}},r}(),$.zoomooz||($.zoomooz={}),$.zoomooz.helpers=function(e,t){"use strict";var n=["-moz-","-webkit-","-o-","-ms-"];return t.forEachPrefix=function(e,t){for(var r=0;r<n.length;r++)e(n[r]);t&&e("")},t.getElementTransform=function(n){var r;return t.forEachPrefix(function(t){r=r||e(n).css(t+"transform")},!0),r},t}(jQuery,{}),function(e){"use strict";function f(e,t,n){var r={};o.forEachPrefix(function(t){r[t+"transform"]=e},!0);if(t){var i=S(t/1e3,6)+"s";r["-webkit-transition-duration"]=i,r["-o-transition-duration"]=i,r["-moz-transition-duration"]=i}if(n){var s=d(n);r["-webkit-transition-timing-function"]=s,r["-o-transition-timing-function"]=s,r["-moz-transition-timing-function"]=i}return r}function l(e,r,i,s,o){r||(r=h(new PureCSSMatrix)),t=(new Date).getTime(),n&&(clearInterval(n),n=null),s.easing&&(s.easingfunction=v(s.easing,s.duration)),n=setInterval(function(){c(e,r,i,s,o)},1)}function c(e,r,i,s,o){var u=(new Date).getTime()-t,a;s.easingfunction?a=s.easingfunction(u/s.duration):a=u/s.duration,e.css(f(p(E(r,i,a)))),u>s.duration&&(clearInterval(n),n=null,a=1,o&&o())}function h(e){var t=e.elements(),n=t.a,r=t.b,i=t.c,s=t.d,o=t.e,u=t.f;if(Math.abs(n*s-r*i)<.01){console.log("fail!");return}var a=o,f=u,l=Math.sqrt(n*n+r*r);n/=l,r/=l;var c=n*i+r*s;i-=n*c,s-=r*c;var h=Math.sqrt(i*i+s*s);i/=h,s/=h,c/=h,n*s-r*i<0&&(n=-n,r=-r,i=-i,s=-s,l=-l,h=-h);var p=Math.atan2(r,n);return{tx:a,ty:f,r:p,k:Math.atan(c),sx:l,sy:h}}function p(e){var t="";return t+="translate("+S(e.tx,6)+"px,"+S(e.ty,6)+"px) ",t+="rotate("+S(e.r,6)+"rad) skewX("+S(e.k,6)+"rad) ",t+="scale("+S(e.sx,6)+","+S(e.sy,6)+")",t}function d(e){return e instanceof Array?"cubic-bezier("+S(e[0],6)+","+S(e[1],6)+","+S(e[2],6)+","+S(e[3],6)+")":e}function v(e,t){var n=[];if(e instanceof Array)n=e;else switch(e){case"linear":n=[0,0,1,1];break;case"ease":n=[.25,.1,.25,1];break;case"ease-in":n=[.42,0,1,1];break;case"ease-out":n=[0,0,.58,1];break;case"ease-in-out":n=[.42,0,.58,1]}var r=function(e){return g(e,n[0],n[1],n[2],n[3],t)};return r}function m(e,t,n,r,i){var s,o,u=(1-e)*(1-e)*(1-e);return s=t*3*e*e*(1-e)+r*3*e*(1-e)*(1-e)+u,o=n*3*e*e*(1-e)+i*3*e*(1-e)*(1-e)+u,{x:Math.abs(s),y:Math.abs(o)}}function g(e,t,n,r,i,s){function h(e){return((o*e+u)*e+a)*e}function p(e){return((f*e+l)*e+c)*e}function d(e){return(3*o*e+2*u)*e+a}function v(e){return 1/(200*e)}function m(e,t){return p(g(e,t))}function g(e,t){function a(e){return e>=0?e:0-e}var n,r,i,s,o,u;for(i=e,u=0;u<8;u++){s=h(i)-e;if(a(s)<t)return i;o=d(i);if(a(o)<1e-6)break;i-=s/o}n=0,r=1,i=e;if(i<n)return n;if(i>r)return r;while(n<r){s=h(i);if(a(s-e)<t)return i;e>s?n=i:r=i,i=(r-n)*.5+n}return i}var o=0,u=0,a=0,f=0,l=0,c=0;return a=3*t,u=3*(r-t)-a,o=1-a-u,c=3*n,l=3*(i-n)-c,f=1-c-l,m(e,v(s))}function y(e){var t=o.getElementTransform(e),n;t?n=new PureCSSMatrix(t):n=new PureCSSMatrix;var r=h(n);return r.r=b(t),r}function b(e){var t=0,n;while((n=i.exec(e))!==null){var r=n[1].toLowerCase(),o=n[2].split(",");if(r=="matrix"){var u=r+"("+n[2]+")";t+=h(new PureCSSMatrix(u)).r}else if(r=="rotate"){var a=o[0],f=parseFloat(x(a));a.match(s)&&(f=2*Math.PI*f/360),t+=f}}return t}function w(e,t){if(Math.abs(e.r-t.r)>Math.PI)if(t.r<e.r)while(Math.abs(e.r-t.r)>Math.PI)t.r+=2*Math.PI;else while(Math.abs(e.r-t.r)>Math.PI)t.r-=2*Math.PI;return t}function E(e,t,n){var r={};for(var i in e)e.hasOwnProperty(i)&&(r[i]=e[i]+(t[i]-e[i])*n);return r}function S(e,t){t=Math.abs(parseInt(t,10))||0;var n=Math.pow(10,t);return Math.round(e*n)/n}function x(e){return e.match(r)}var t,n,r=/([0-9.\-e]+)/g,i=/([a-z]+)\(([^\)]+)\)/g,s=/deg$/,o=e.zoomooz.helpers,u={duration:450,easing:"ease",nativeanimation:!1},a;jQuery.cssHooks.MsTransform={set:function(e,t){e.style.msTransform=t}},jQuery.cssHooks.MsTransformOrigin={set:function(e,t){e.style.msTransformOrigin=t}},e.fn.animateTransformation=function(t,n,r){n=jQuery.extend({},u,n);var i=e.browser.webkit&&n.nativeanimation;a&&(clearTimeout(a),a=null),i&&r&&(a=setTimeout(r,n.duration)),this.each(function(){var s=e(this);t||(t=new PureCSSMatrix);var o=y(s),u=w(o,h(t));i?s.css(f(p(u),n.duration,n.easing)):l(s,o,u,n,r)})},e.fn.setTransformation=function(t){this.each(function(){var n=e(this),r=y(n),i=w(r,h(t));n.css(f(p(i)))})}}(jQuery),function(e){"use strict";function r(t,r){e.zoomooz.defaultSettings||e.zoomooz.setup();var i=e.zoomooz.defaultSettings,s=jQuery.extend({},r);for(var o in i)i.hasOwnProperty(o)&&!s[o]&&(s[o]=t.data(o));for(var u=0;u<n.length;u++){var o=n[u];s[o]||(s[o]=t.data(o))}return jQuery.extend({},i,s)}function i(){var e=document.createElement("style");e.type="text/css";var n="";t.forEachPrefix(function(e){n+=e+"transform-origin: 0 0;"},!0),e.innerHTML="html {height:100%;}.noScroll{overflow:hidden !important;}body.noScroll,html.noScroll body{margin-right:15px;}* {"+n+"}",document.getElementsByTagName("head")[0].appendChild(e)}function s(){return{targetsize:.9,scalemode:"both",root:e(document.body),debug:!1,animationendcallback:null}}function o(t,n){var r=u(t,n),i,s=null;if(t[0]!==n.root[0]){var o=h(t,n.root).inverse();i=a(t,o,n),n.animationendcallback&&(s=function(){n.animationendcallback.call(t[0])})}else i=(new PureCSSMatrix).translate(-r.x,-r.y),s=function(){var i=e(n.root),s=r.elem;i.setTransformation(new PureCSSMatrix),i.data("original-scroll",null),s.removeClass("noScroll"),s.scrollLeft(r.x),s.scrollTop(r.y),n.animationendcallback&&n.animationendcallback.call(t[0])};e(n.root).animateTransformation(i,n,s)}function u(e,n){var r=n.root,i=r.parent();if(e[0]===r[0]){var s=r.data("original-scroll");return s?s:{elem:i,x:0,"y:":0}}if(!r.data("original-scroll")){var o=r.scrollTop(),u=r.scrollLeft(),e=r;o||(o=i.scrollTop(),u=i.scrollLeft(),e=i);var s={elem:e,x:u,y:o};r.data("original-scroll",s),e.addClass("noScroll"),e.scrollTop(0),e.scrollLeft(0);var a="translate(-"+u+"px,-"+o+"px)";return t.forEachPrefix(function(e){r.css(e+"transform",a)}),s}}function a(n,r,i){var s=i.targetsize,o=i.scalemode,u=i.root,a=e(u).parent(),f=a.width(),l=a.height(),c=f/n.outerWidth(),h=l/n.outerHeight(),d;if(o=="width")d=s*c;else if(o=="height")d=s*h;else if(o=="both")d=s*Math.min(c,h);else{if(o!="scale"){console.log("wrong zoommode");return}d=s}var v=(f-n.outerWidth()*d)/2,m=(l-n.outerHeight()*d)/2,g=f/2,y=l/2,b=-parseFloat(u.css("margin-left"))||0,w=-parseFloat(u.css("margin-top"))||0,E=p(g)+"px "+p(y)+"px";t.forEachPrefix(function(e){u.css(e+"transform-origin",E)});var S=(new PureCSSMatrix).translate(b,w).translate(-g,-y).translate(v,m).scale(d,d).multiply(r).translate(g,y);return S}function f(e,t,n){return[e.a*t+e.c*n+e.e,e.b*t+e.d*n+e.f]}function l(e,t){var n=h(e,t.root).elements();c(f(n,0,0)),c(f(n,0,e.outerHeight())),c(f(n,e.outerWidth(),e.outerHeight())),c(f(n,e.outerWidth(),0))}function c(t){var n="width:4px;height:4px;background-color:red;position:absolute;margin-left:-2px;margin-top:-2px;";n+="left:"+t[0]+"px;top:"+t[1]+"px;";var r='<div class="debuglabel" style="'+n+'"></div>';e("#debug").append(r)}function h(t,n){var r=t[0];if(!r||!r.ownerDocument)return null;var i=new PureCSSMatrix,s;if(r===r.ownerDocument.body){var o=jQuery.offset.bodyOffset(r);return s=new PureCSSMatrix,s=s.translate(o.left,o.top),i=i.multiply(s),i}var u;jQuery.offset.initialize?(jQuery.offset.initialize(),u={fixedPosition:jQuery.offset.supportsFixedPosition,doesNotAddBorder:jQuery.offset.doesNotAddBorder,doesAddBorderForTableAndCells:jQuery.support.doesAddBorderForTableAndCells,subtractsBorderForOverflowNotVisible:jQuery.offset.subtractsBorderForOverflowNotVisible}):u=jQuery.support;var a=r.offsetParent,f=r.ownerDocument,l,c=f.documentElement,h=f.body,p=n[0],v=f.defaultView,m;v?m=v.getComputedStyle(r,null):m=r.currentStyle;var g=r.offsetTop,y=r.offsetLeft,b=d().translate(y,g);b=b.multiply(d(r)),i=b.multiply(i);while((r=r.parentNode)&&r!==p){g=0,y=0;if(u.fixedPosition&&m.position==="fixed")break;l=v?v.getComputedStyle(r,null):r.currentStyle,g-=r.scrollTop,y-=r.scrollLeft,r===a&&(g+=r.offsetTop,y+=r.offsetLeft,u.doesNotAddBorder&&(!u.doesAddBorderForTableAndCells||!/^t(able|d|h)$/i.test(r.nodeName))&&(g+=parseFloat(l.borderTopWidth)||0,y+=parseFloat(l.borderLeftWidth)||0),a=r.offsetParent),u.subtractsBorderForOverflowNotVisible&&l.overflow!=="visible"&&(g+=parseFloat(l.borderTopWidth)||0,y+=parseFloat(l.borderLeftWidth)||0),m=l,r.offsetParent==p&&(g-=parseFloat(e(r.offsetParent).css("margin-top"))||0,y-=parseFloat(e(r.offsetParent).css("margin-left"))||0),b=d().translate(y,g),b=b.multiply(d(r)),i=b.multiply(i)}g=0,y=0;if(m.position==="relative"||m.position==="static")g+=h.offsetTop,y+=h.offsetLeft;u.fixedPosition&&m.position==="fixed"&&(g+=Math.max(c.scrollTop,h.scrollTop),y+=Math.max(c.scrollLeft,h.scrollLeft));var w=(new PureCSSMatrix).translate(y,g);return i=i.multiply(w),i}function p(e){return Number(e).toFixed(6)}function d(e){var n=t.getElementTransform(e);return n?new PureCSSMatrix(n):new PureCSSMatrix}var t=e.zoomooz.helpers,n=["duration","easing","nativeanimation"];i(),e.zoomooz||(e.zoomooz={}),e.zoomooz.setup=function(t){e.zoomooz.defaultSettings=jQuery.extend(s(),t)},e.fn.zoomTo=function(t){return this.each(function(){var n=e(this),i=r(n,t);o(n,i),i.debug?(e("#debug").length===0?e(i.root).append('<div id="debug"><div>'):e("#debug").html(""),l(n,i)):e("#debug").length!==0&&e("#debug").html("")}),this}}(jQuery),function(e){"use strict";function n(){function n(e){var n="-webkit-touch-callout: "+(e?"default":"none")+";";return t.forEachPrefix(function(t){n+=t+"user-select:"+(e?"text":"none")+";"},!0),n}var e=document.createElement("style");e.type="text/css",e.innerHTML=".zoomTarget{"+n(!1)+"}"+".zoomTarget:hover{cursor:pointer!important;}"+".selectedZoomTarget{"+n(!0)+"}"+".selectedZoomTarget:hover{cursor:auto!important;}"+".zoomContainer{position:relative;padding:1px;margin:-1px;}",document.getElementsByTagName("head")[0].appendChild(e)}e.zoomooz||(e.zoomooz={});var t=e.zoomooz.helpers;e.fn.zoomTarget=function(t){e.zoomooz.defaultSettings||e.zoomooz.setup(),t||(t={}),t.animationendcallback=function(){e(".selectedZoomTarget").removeClass("selectedZoomTarget"),e(this).addClass("selectedZoomTarget")};var n=function(t,r,i){t.addClass("zoomTarget");var s=r.closest(".zoomContainer");s.length!=0&&(i.root=s),i.root||(i.root=e.zoomooz.defaultSettings.root);if(!i.root.hasClass("zoomTarget")){var o={};o.animationendcallback=function(){var t=e(this);e(".selectedZoomTarget").removeClass("selectedZoomTarget"),t.addClass("selectedZoomTarget"),t.parent().addClass("selectedZoomTarget")},n(i.root,i.root,o),n(i.root.parent(),i.root,o),i.root.click()}t.on("click",function(e){r.zoomTo(i),e.stopPropagation()})};this.each(function(){n(e(this),e(this),jQuery.extend({},t))})},n(),e(document).ready(function(){e(".zoomTarget").zoomTarget()})}(jQuery),function(e){"use strict";e.zoomooz||(e.zoomooz={}),e.fn.zoomContainer=function(e){},e(document).ready(function(){e(".zoomContainer").zoomContainer()})}(jQuery);var Sylvester={version:"0.1.3",precision:1e-6};Matrix.prototype={dup:function(){return Matrix.create(this.elements)},canMultiplyFromLeft:function(e){var t=e.elements||e;return typeof t[0][0]=="undefined"&&(t=Matrix.create(t).elements),this.elements[0].length==t.length},multiply:function(e){var t=e.modulus?!0:!1,n=e.elements||e;typeof n[0][0]=="undefined"&&(n=Matrix.create(n).elements);if(!this.canMultiplyFromLeft(n))return null;var r=this.elements.length,i=r,s,o,u=n[0].length,a,f=this.elements[0].length,l=[],c,h,p;do{s=i-r,l[s]=[],o=u;do{a=u-o,c=0,h=f;do p=f-h,c+=this.elements[s][p]*n[p][a];while(--h);l[s][a]=c}while(--o)}while(--r);var n=Matrix.create(l);return t?n.col(1):n},isSquare:function(){return this.elements.length==this.elements[0].length},toRightTriangular:function(){var e=this.dup(),t,n=this.elements.length,r=n,i,s,o=this.elements[0].length,u;do{i=r-n;if(e.elements[i][i]==0)for(j=i+1;j<r;j++)if(e.elements[j][i]!=0){t=[],s=o;do u=o-s,t.push(e.elements[i][u]+e.elements[j][u]);while(--s);e.elements[i]=t;break}if(e.elements[i][i]!=0)for(j=i+1;j<r;j++){var a=e.elements[j][i]/e.elements[i][i];t=[],s=o;do u=o-s,t.push(u<=i?0:e.elements[j][u]-e.elements[i][u]*a);while(--s);e.elements[j]=t}}while(--n);return e},determinant:function(){if(!this.isSquare())return null;var e=this.toRightTriangular(),t=e.elements[0][0],n=e.elements.length-1,r=n,i;do i=r-n+1,t*=e.elements[i][i];while(--n);return t},isSingular:function(){return this.isSquare()&&this.determinant()===0},augment:function(e){var t=e.elements||e;typeof t[0][0]=="undefined"&&(t=Matrix.create(t).elements);var n=this.dup(),r=n.elements[0].length,i=n.elements.length,s=i,o,u,a=t[0].length,f;if(i!=t.length)return null;do{o=s-i,u=a;do f=a-u,n.elements[o][r+f]=t[o][f];while(--u)}while(--i);return n},inverse:function(){if(!this.isSquare()||this.isSingular())return null;var e=this.elements.length,t=e,n,r,i=this.augment(Matrix.I(e)).toRightTriangular(),s,o=i.elements[0].length,u,a,f,l=[],c;do{n=e-1,a=[],s=o,l[n]=[],f=i.elements[n][n];do u=o-s,c=i.elements[n][u]/f,a.push(c),u>=t&&l[n].push(c);while(--s);i.elements[n]=a;for(r=0;r<n;r++){a=[],s=o;do u=o-s,a.push(i.elements[r][u]-i.elements[n][u]*i.elements[r][n]);while(--s);i.elements[r]=a}}while(--e);return Matrix.create(l)},setElements:function(e){var t,n=e.elements||e;if(typeof n[0][0]!="undefined"){var r=n.length,i=r,s,o,u;this.elements=[];do{t=i-r,s=n[t].length,o=s,this.elements[t]=[];do u=o-s,this.elements[t][u]=n[t][u];while(--s)}while(--r);return this}var a=n.length,f=a;this.elements=[];do t=f-a,this.elements.push([n[t]]);while(--a);return this}},Matrix.create=function(e){var t=new Matrix;return t.setElements(e)},Matrix.I=function(e){var t=[],n=e,r,i,s;do{r=n-e,t[r]=[],i=n;do s=n-i,t[r][s]=r==s?1:0;while(--i)}while(--e);return Matrix.create(t)}